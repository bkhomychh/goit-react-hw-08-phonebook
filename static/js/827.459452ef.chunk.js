"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[827],{5827:function(n,e,t){t.r(e),t.d(e,{default:function(){return ln}});var r=t(9439),o=t(2791),i=t(1413),a=t(5705),c=t(6727),s=t(9085),u=t(8747),d=t(666),l=t(8584),m=t(6738),h=t(3329);function x(n){var e=n.contact,t=(e=void 0===e?{}:e).id,x=e.name,f=e.number,p=n.editing,b=void 0!==p&&p,g=n.closeModal,v=(0,l.Jx)().data,Z=void 0===v?[]:v,y=(0,l.Tn)(),w=(0,r.Z)(y,1)[0],j=(0,l.i)(),P=(0,r.Z)(j,1)[0],S=(0,o.useRef)(null),z=(0,a.TA)({initialValues:{name:null!==x&&void 0!==x?x:"",number:null!==f&&void 0!==f?f:""},validationSchema:c.Ry({name:c.Z_().min(4,"Must be at least 4 characters long").required("Required"),number:c.Z_().min(10,"Must be at least 10 characters long").matches(/^(\+?\d{0,4})?\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{3}\)?)\s?-?\s?(\(?\d{4}\)?)?$/,"Phone number is not valid").required("Required")}),onSubmit:function(n,e){var r=e.resetForm,o=n.name.toLowerCase();Z.every((function(n){return n.name.toLowerCase()!==o}))||b?(b?P((0,i.Z)({id:t},n)).unwrap().then((function(n){var e=n.name;return s.Am.success("".concat(e," has been edited"))})).catch((function(n){s.Am.error((0,m.e$)(n))})):w((0,i.Z)({},n)).unwrap().then((function(n){var e=n.name;return s.Am.success("".concat(e," has been added to your contacts"))})).catch((function(n){return s.Am.error((0,m.e$)(n))})),r(),g()):s.Am.isActive(S.current)||(S.current=s.Am.warn("".concat(n.name," is already in your contacts.")))}});return(0,h.jsxs)(d.l0,{onSubmit:z.handleSubmit,boxShadowHidden:!0,autoComplete:"off",noValidate:!0,children:[(0,h.jsx)(d.__,{htmlFor:"name",children:"Name"}),(0,h.jsxs)(d.xu,{children:[(0,h.jsx)(d.UP,{id:"name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:z.values.name,onBlur:z.handleBlur,onChange:z.handleChange}),z.touched.name&&z.errors.name&&(0,h.jsx)(d.Bc,{children:z.errors.name}),z.touched.name&&!z.errors.name&&(0,h.jsx)(d.Jr,{})]}),(0,h.jsx)(d.__,{htmlFor:"number",children:"Phone number"}),(0,h.jsxs)(d.xu,{children:[(0,h.jsx)(d.UP,{id:"number",type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:z.values.number,onBlur:z.handleBlur,onChange:z.handleChange}),z.touched.number&&z.errors.number&&(0,h.jsx)(d.Bc,{children:z.errors.number}),z.touched.number&&!z.errors.number&&(0,h.jsx)(d.Jr,{})]}),b?(0,h.jsxs)(d.W2,{children:[(0,h.jsx)(u.Z,{type:"submit",children:"Save"}),(0,h.jsx)(u.Z,{type:"button",onClick:g,children:"Cancel"})]}):(0,h.jsx)(u.Z,{type:"submit",children:"Add contact"})]})}var f,p,b=t(5048),g=t(4734),v=t(168),Z=t(6444),y=Z.ZP.label(f||(f=(0,v.Z)(["\n  margin: 0 auto 30px;\n  display: flex;\n  align-items: center;\n  gap: 24px;\n  max-width: 350px;\n\n  font-size: ",";\n  font-weight: 500;\n  text-align: center;\n"])),(function(n){var e=n.theme;return"".concat(e.fontSize.textPrimary)})),w=Z.ZP.input(p||(p=(0,v.Z)(["\n  padding: 15px 30px;\n\n  font-size: ",";\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: 16px;\n\n  &:focus {\n    box-shadow: ",";\n  }\n"])),(function(n){var e=n.theme;return"".concat(e.fontSize.textSecondary)}),(function(n){var e=n.theme;return"".concat(e.color.bgTertiary)}),(function(n){var e=n.theme;return"0 0 2px  ".concat(e.color.textTertiary)}),(function(n){var e=n.theme;return"0 0 2px  ".concat(e.color.bgAccent)}));function j(){var n=(0,b.v9)(g.l9.A),e=(0,b.I0)();return(0,h.jsxs)(y,{children:["Search",(0,h.jsx)(w,{type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",value:n,placeholder:"Contact name...",onChange:function(n){var t=n.target;e((0,g.Tv)(t.value))}})]})}var P,S,z,k,C,A,_,B,E,F=t(4164),L=(0,Z.F4)(P||(P=(0,v.Z)(["\n  0%{\n    transform: scale(0.2)\n  }\n  100%{\n    transform: scale(1)\n  }\n"]))),M=Z.ZP.div(S||(S=(0,v.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 1200;\n\n  padding: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: rgba(0, 0, 0, 0.1);\n"]))),J=Z.ZP.div(z||(z=(0,v.Z)(["\n  width: max-content;\n  height: max-content;\n\n  animation: "," 500ms both;\n  overflow: hidden;\n"])),L),T=document.getElementById("modal-root");function $(n){var e=n.closeModal,t=n.children;return(0,o.useEffect)((function(){var n=function(n){n.target.classList.contains(M.styledComponentId)&&e()},t=function(n){"Escape"===n.code&&e()};return window.addEventListener("click",n),window.addEventListener("keydown",t),function(){window.removeEventListener("click",n),window.removeEventListener("keydown",t)}}),[e]),(0,F.createPortal)((0,h.jsx)(M,{children:(0,h.jsx)(J,{children:t})}),T)}var q=Z.ZP.li(k||(k=(0,v.Z)(["\n  display: flex;\n  align-items: baseline;\n  gap: 20px;\n  padding: 10px 20px;\n\n  border: none;\n\n  &:not(:last-child) {\n    border-bottom: ",";\n  }\n"])),(function(n){var e=n.theme;return"1px solid ".concat(e.color.bgSecondary)})),I=Z.ZP.span(C||(C=(0,v.Z)(["\n  font-size: ",";\n  font-weight: 700;\n  line-height: calc(24 / 20);\n"])),(function(n){return n.theme.fontSize.textPrimary})),R=Z.ZP.span(A||(A=(0,v.Z)(["\n  font-size: ",";\n  font-weight: 500;\n"])),(function(n){return n.theme.fontSize.textSecondary})),N=Z.ZP.div(_||(_=(0,v.Z)(["\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]))),U=Z.ZP.button(B||(B=(0,v.Z)(["\n  padding: 5px;\n  display: inline-flex;\n\n  font-weight: 700;\n  text-transform: uppercase;\n  background-color: ",";\n  border-radius: 5px;\n"])),(function(n){return n.theme.color.bgPrimary})),V=Z.ZP.button(E||(E=(0,v.Z)(["\n  padding: 5px;\n  display: inline-flex;\n\n  font-weight: 700;\n  text-transform: uppercase;\n  background-color: ",";\n  border-radius: 5px;\n\n  :hover,\n  :focus {\n    color: ",";\n  }\n"])),(function(n){return n.theme.color.bgPrimary}),(function(n){return n.theme.color.bgError})),D=t(9126),H=t(7692);function W(n){var e=n.id,t=n.name,i=n.number,a=(0,o.useState)(!1),c=(0,r.Z)(a,2),u=c[0],d=c[1],f=(0,l.Nt)(),p=(0,r.Z)(f,1)[0],b=function(){d(!1)};return(0,h.jsxs)(q,{children:[(0,h.jsxs)(I,{children:[t,":"]}),(0,h.jsx)(R,{children:i}),(0,h.jsxs)(N,{children:[(0,h.jsx)(U,{type:"button",onClick:function(){d(!0)},children:(0,h.jsx)(H.vpV,{})}),(0,h.jsx)(V,{type:"button",onClick:function(){p({id:e,name:t}).unwrap().then((function(n){var e=n.name;return s.Am.success("".concat(e," has been deleted from your contacts"))})).catch((function(n){return s.Am.error((0,m.e$)(n))}))},children:(0,h.jsx)(D.tgD,{})})]}),u&&(0,h.jsx)($,{closeModal:b,children:(0,h.jsx)(x,{contact:{id:e,name:t,number:i},closeModal:b,editing:!0})})]})}var Y,Q,G,K,O,X,nn,en,tn=t(5726),rn=Z.ZP.div(Y||(Y=(0,v.Z)(["\n  position: relative;\n\n  margin: 0 auto;\n  width: 100%;\n\n  background-color: ",";\n  box-shadow: 0px 0px 20px rgba(0, 0, 0, 0.25);\n  border-radius: 32px;\n  overflow: hidden;\n\n  @media screen and (min-width: 1200px) {\n    max-width: 75%;\n  }\n"])),(function(n){return n.theme.color.bgPrimary})),on=Z.ZP.div(Q||(Q=(0,v.Z)(["\n  position: relative;\n"]))),an=Z.ZP.ul(G||(G=(0,v.Z)(["\n  padding: 20px 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  gap: 10px;\n\n  font-size: ",";\n"])),(function(n){return n.theme.fontSize.textSecondary}));function cn(){var n=(0,b.v9)(g.l9.A),e=(0,l.Jx)(),t=e.data,r=void 0===t?[]:t,o=e.isFetching,i=n.toLowerCase(),a=r.filter((function(n){return n.name.toLowerCase().includes(i)}));return(0,h.jsx)(h.Fragment,{children:a.length>0?(0,h.jsxs)(rn,{children:[(0,h.jsx)(an,{children:a.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,h.jsx)(W,{id:e,name:t,number:r},e)}))}),o&&(0,h.jsx)(tn.Z,{})]}):(0,h.jsx)(on,{children:o?(0,h.jsx)(tn.Z,{}):(0,h.jsx)("p",{children:"There are no contacts :("})})})}Z.ZP.div(K||(K=(0,v.Z)(["\n  min-height: 100vh;\n\n  background-color: ",";\n"])),(function(n){return n.theme.color.bgSecondary})),Z.ZP.div(O||(O=(0,v.Z)(["\n  padding: 20px 50px;\n  margin: 0 auto;\n  max-width: 1200px;\n\n  font-size: ",";\n  background-color: ",";\n"])),(function(n){return n.theme.fontSize.textPrimary}),(function(n){return n.theme.color.bgSecondary}));var sn=Z.ZP.div(X||(X=(0,v.Z)(["\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),un=(Z.ZP.h1(nn||(nn=(0,v.Z)(["\n  margin-bottom: 20px;\n\n  font-size: ",";\n"])),(function(n){return n.theme.fontSize.title})),Z.ZP.h2(en||(en=(0,v.Z)(["\n  font-size: ",";\n"])),(function(n){return n.theme.fontSize.headingPrimary}))),dn=t(4373);function ln(){var n=(0,o.useState)(!1),e=(0,r.Z)(n,2),t=e[0],i=e[1],a=function(){i(!1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(sn,{children:[(0,h.jsx)(un,{children:"Contacts"}),(0,h.jsxs)(u.Z,{onClick:function(){i(!0)},children:[(0,h.jsx)(dn.f8n,{}),"Add contact"]})]}),(0,h.jsx)(j,{}),(0,h.jsx)(cn,{}),t&&(0,h.jsx)($,{closeModal:a,children:(0,h.jsx)(x,{closeModal:a})})]})}},666:function(n,e,t){t.d(e,{Bc:function(){return y},Dx:function(){return f},Jr:function(){return j},UP:function(){return Z},W2:function(){return v},__:function(){return b},l0:function(){return p},tm:function(){return w},xu:function(){return g}});var r,o,i,a,c,s,u,d,l,m=t(168),h=t(6444),x=t(9126),f=h.ZP.h1(r||(r=(0,m.Z)(["\n  margin-bottom: 24px;\n\n  font-size: ",";\n  letter-spacing: 0.05em;\n  text-align: center;\n"])),(function(n){return n.theme.fontSize.title})),p=h.ZP.form(o||(o=(0,m.Z)(["\n  margin: 0 auto 32px;\n  padding: 48px 64px;\n  max-width: 400px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  border-radius: 32px;\n  background-color: ",";\n\n  box-shadow: ",";\n\n  @media screen and (min-width: 1200px) {\n    width: 500px;\n    max-width: 500px;\n  }\n"])),(function(n){return n.theme.color.bgPrimary}),(function(n){return n.boxShadowHidden?"":"0px 0px 20px rgba(0, 0, 0, 0.25);"})),b=h.ZP.label(i||(i=(0,m.Z)(["\n  margin-bottom: 16px;\n  width: 100%;\n\n  font-size: ",";\n  font-weight: 500;\n"])),(function(n){var e=n.theme;return"".concat(e.fontSize.textPrimary)})),g=h.ZP.div(a||(a=(0,m.Z)(["\n  position: relative;\n\n  margin-bottom: 32px;\n  width: 100%;\n\n  &:last-of-type {\n    margin-bottom: 40px;\n  }\n"]))),v=h.ZP.div(c||(c=(0,m.Z)(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n"]))),Z=h.ZP.input(s||(s=(0,m.Z)(["\n  padding: 0px 40px 10px 20px;\n  width: 100%;\n\n  font-size: ",";\n  line-height: 1.5;\n\n  border-bottom: ",";\n  transition: ",";\n\n  &:focus {\n    border-color: ",";\n  }\n"])),(function(n){var e=n.theme;return"".concat(e.fontSize.textSecondary)}),(function(n){var e=n.theme;return"2px solid ".concat(e.color.bgSecondary)}),(function(n){var e=n.theme;return"all 250ms ".concat(e.transition.primaryCubicBezier)}),(function(n){return n.theme.color.bgAccent})),y=h.ZP.p(u||(u=(0,m.Z)(["\n  position: absolute;\n  top: 110%;\n  left: 0;\n\n  font-size: 12px;\n  font-weight: 500;\n  color: ",";\n"])),(function(n){return n.theme.color.bgError})),w=h.ZP.button(d||(d=(0,m.Z)(["\n  position: absolute;\n  top: 50%;\n  right: 0;\n\n  padding: 4px;\n  display: flex;\n\n  background-color: transparent;\n  transform: translateY(-50%);\n"]))),j=(0,h.ZP)(x.IQF)(l||(l=(0,m.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 102%;\n\n  color: ",";\n  transform: translateY(-50%);\n"])),(function(n){return n.theme.color.bgSuccess}))}}]);
//# sourceMappingURL=827.459452ef.chunk.js.map